@model IEnumerable<SUP_MVC.Models.Login.LoginViewModel>

@{
	ViewData["Title"] = "Login";
	Layout = null;
}


    <head>

        <title>Login</title>
        <meta http-equive="Content-Type" charset="utf-8">
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script>
            function Login() {
                var username = $('.bt_username').val();
                var password = $('.bt_password').val();
                var dataPost = username + "," + password;
                $.ajax({
                    url: '/Login/AuthenticateUser',
                    type: 'POST',
                    data: JSON.stringify(dataPost),
                    contentType: 'application/json; charset=utf-8',
                    error: function (xhr) {
                        alert('Error: ' + xhr.statusText);
                    },
                    success: function (result) {
                        console.log(result);
                        returnedData = JSON.parse(result);
                        console.log(returnedData);
                        if (returnedData == true) {
                            window.location.href = "@Url.RouteUrl(new { Controller = "Search", Action = "Search" })";
                    }
                    },
                    async: true,
                    processData: false
                });
            }
        </script>
        <link href="~/css/site.css" rel="stylesheet" type="text/css">

        <style>
            .yellow {
                width: 100%;
                height: 100%;
                text-align: center;
                padding-top: 15%;
                background-image: linear-gradient(to top,white,#FFD700);
            }

            #error {
                color: red;
            }
        </style>
    </head>

<body>
	<div class="body yellow">
		<form>
			<img src="../../logo.jpg" />
			<br />
			<p><h7>Username:&nbsp;</h7><input type="text" class="bt_username" style="height:30px;width:200px;" /></p>
			<p><h7>Password:&nbsp;&nbsp;</h7><input type="password" class="bt_password" style="height:30px;width:200px;" /></p>
			<p></p><a id="error"></a></p>
			<br />
			<input type="button" style="display:inline" class="login_but" onclick="Login()" value="Login"/>
		</form>
	</div>

</body>

